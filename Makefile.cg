
OS_TYPE = $(shell uname -s | \
  awk '{ split($$1,a,"_"); printf("%s", a[1]);  }')

CFLAGS += -I/usr/local/include/gc -g

LIBS = -L/usr/local/lib -lm -lgc

ifeq ($(OS_TYPE),Linux)
  LIBS += -ldl -lrt
endif

all: $(CG_FILES)
	@$(CC) $(CFLAGS) $(LDFLAGS) -o $(CG_TARGET) $(CG_FILES) $(LIBS)
